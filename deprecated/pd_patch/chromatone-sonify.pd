#N canvas 791 45 1104 546 12;
#X obj 1156 691 output~;
#X obj 880 713 tgl 25 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 880 652 loadbang;
#X obj 1279 693 vu 15 120 meter empty -1 -8 0 10 #404040 #000000 1 0;
#X floatatom 630 452 5 0 0 0 - - - 0;
#X obj 1437 290 vsl 16 136 0 100 0 1 empty empty empty 0 0 0 10 #fcfcfc #000000 #000000 9400 1;
#X obj 1437 479 s gain;
#X floatatom 1437 440 5 0 0 0 - - - 0;
#X obj 1145 291 vsl 16 136 0 100 0 1 empty empty empty 0 0 0 10 #fcfcfc #000000 #000000 6200 1;
#X floatatom 1145 441 5 0 0 0 - - - 0;
#X obj 1145 480 s distortion;
#X obj 886 294 vsl 16 136 0 7 0 1 empty empty empty 0 0 0 10 #fcfcfc #000000 #000000 9200 1;
#X floatatom 886 444 5 0 0 0 - - - 0;
#X obj 886 483 s vibrato_freq;
#X obj 1003 293 vsl 16 136 0 200 0 1 empty empty empty 0 0 0 10 #fcfcfc #000000 #000000 7700 1;
#X floatatom 1003 443 5 0 0 0 - - - 0;
#X obj 1003 483 s vibrato_depth;
#X text 986 443 %;
#X text 1131 441 %;
#X text 1414 440 dB;
#X text 559 453 midi note;
#N canvas 0 22 450 278 (subpatch) 0;
#X array osciloscope 882 float 1;
#A 0 -0.00877936 -0.00878067 -0.00878197 -0.00878321 -0.00878444 -0.00878571 -0.00878705 -0.00878839 -0.00878965 -0.00879089 -0.00879213 -0.00879338 -0.00879463 -0.00879587 -0.00879712 -0.00879837 -0.00879962 -0.00880088 -0.00880214 -0.0088034 -0.00880465 -0.00880592 -0.00880718 -0.0088085 -0.00880967 -0.00881085 -0.00881203 -0.00881321 -0.00881438 -0.00881556 -0.00881674 -0.00881792 -0.00881912 -0.0088203 -0.00882149 -0.00882268 -0.00882388 -0.00882507 -0.00882626 -0.00882744 -0.00882853 -0.00882972 -0.00883093 -0.00883213 -0.00883334 -0.00883445 -0.00883558 -0.00883671 -0.00883783 -0.00883896 -0.00884009 -0.00884121 -0.00884234 -0.00884347 -0.0088446 -0.00884569 -0.00884672 -0.00884775 -0.00884879 -0.00884993 -0.00885107 -0.00885222 -0.00885336 -0.00885451 -0.00885565 -0.0088568 -0.00885787 -0.00885894 -0.00886 -0.00886107 -0.00886214 -0.00886315 -0.00886411 -0.00886508 -0.00886606 -0.00886703 -0.00886806 -0.00886914 -0.00887022 -0.0088713 -0.00887239 -0.00887347 -0.00887456 -0.00887565 -0.00887674 -0.00887782 -0.00887891 -0.00887984 -0.00888075 -0.00888166 -0.00888257 -0.00888348 -0.00888439 -0.0088853 -0.00888629 -0.00888731 -0.00888833 -0.00888936 -0.00889038 -0.00889141 -0.00889243 -0.00889346 -0.00889449 -0.00889542 -0.00889636 -0.00889729 -0.00889823 -0.00889917 -0.00890004 -0.00890089 -0.00890174 -0.00890259 -0.00890355 -0.0089045 -0.00890546 -0.00890642 -0.00890739 -0.00890835 -0.0089093 -0.00891017 -0.00891104 -0.00891191 -0.00891278 -0.00891365 -0.00891453 -0.00891541 -0.00891629 -0.00891717 -0.00891805 -0.00891889 -0.0089198 -0.0089207 -0.0089216 -0.00892251 -0.00892337 -0.00892418 -0.00892499 -0.0089258 -0.00892662 -0.00892743 -0.00892824 -0.00892906 -0.00892987 -0.00893068 -0.0089315 -0.00893233 -0.00893315 -0.00893403 -0.00893496 -0.00893588 -0.00893668 -0.00893744 -0.00893818 -0.00893893 -0.00893969 -0.00894044 -0.00894119 -0.00894195 -0.00894271 -0.00894347 -0.00894423 -0.00894499 -0.00894576 -0.00894652 -0.00894729 -0.00894814 -0.00894892 -0.00894969 -0.00895046 -0.00895124 -0.00895201 -0.00895274 -0.00895343 -0.00895413 -0.00895483 -0.00895552 -0.00895622 -0.00895692 -0.00895762 -0.00895833 -0.00895903 -0.00895972 -0.00896035 -0.00896106 -0.00896177 -0.00896249 -0.00896321 -0.00896393 -0.00896465 -0.00896538 -0.0089661 -0.00896683 -0.00896751 -0.00896815 -0.0089688 -0.00896944 -0.00897008 -0.00897069 -0.00897125 -0.0089718 -0.00897239 -0.00897304 -0.0089737 -0.00897436 -0.00897502 -0.00897568 -0.00897634 -0.008977 -0.00897767 -0.00897834 -0.00897901 -0.00897967 -0.00898034 -0.00898092 -0.00898142 -0.00898192 -0.00898242 -0.00898293 -0.00898349 -0.0089841 -0.0089847 -0.0089853 -0.00898591 -0.00898651 -0.00898712 -0.00898773 -0.00898833 -0.00898894 -0.00898954 -0.00899009 -0.00899061 -0.00899113 -0.00899165 -0.00899217 -0.00899266 -0.00899311 -0.00899365 -0.00899419 -0.00899474 -0.00899529 -0.00899583 -0.00899638 -0.00899693 -0.00899749 -0.00899805 -0.00899852 -0.00899898 -0.00899945 -0.00899992 -0.00900039 -0.00900086 -0.00900133 -0.0090018 -0.00900229 -0.00900286 -0.0090034 -0.00900388 -0.00900437 -0.00900486 -0.00900536 -0.00900583 -0.00900624 -0.00900664 -0.00900705 -0.00900746 -0.00900787 -0.00900829 -0.0090087 -0.00900911 -0.00900953 -0.00900995 -0.00901042 -0.00901094 -0.00901146 -0.00901198 -0.0090125 -0.00901297 -0.00901332 -0.00901368 -0.00901403 -0.00901438 -0.00901473 -0.00901508 -0.00901543 -0.00901578 -0.00901614 -0.0090165 -0.00901685 -0.00901722 -0.00901765 -0.00901811 -0.00901858 -0.00901899 -0.00901936 -0.00901974 -0.00902012 -0.0090205 -0.00902087 -0.00902117 -0.00902148 -0.00902178 -0.00902209 -0.0090224 -0.00902271 -0.00902302 -0.00902333 -0.00902364 -0.00902404 -0.00902437 -0.00902469 -0.009025 -0.00902532 -0.00902564 -0.00902596 -0.00902629 -0.00902661 -0.00902694 -0.00902727 -0.00902759 -0.00902784 -0.00902809 -0.00902835 -0.0090286 -0.00902885 -0.00902906 -0.00902932 -0.00902959 -0.00902986 -0.00903014 -0.00903041 -0.00903069 -0.00903097 -0.00903124 -0.00903152 -0.00903178 -0.00903206 -0.00903233 -0.0090326 -0.00903288 -0.00903313 -0.00903324 -0.00903335 -0.00903353 -0.00903374 -0.00903396 -0.00903417 -0.00903438 -0.0090346 -0.00903482 -0.00903505 -0.00903527 -0.00903549 -0.00903572 -0.00903594 -0.00903617 -0.00903636 -0.00903651 -0.00903666 -0.00903681 -0.00903696 -0.00903719 -0.00903735 -0.00903751 -0.00903767 -0.00903783 -0.00903799 -0.00903815 -0.00903831 -0.00903848 -0.00903864 -0.00903881 -0.00903893 -0.00903902 -0.0090391 -0.00903919 -0.00903929 -0.00903939 -0.0090395 -0.0090397 -0.00903989 -0.00904008 -0.00904028 -0.0090404 -0.00904052 -0.00904065 -0.00904077 -0.00904088 -0.00904092 -0.00904096 -0.00904099 -0.00904103 -0.00904106 -0.0090411 -0.00904114 -0.00904118 -0.00904126 -0.00904139 -0.00904153 -0.00904167 -0.00904182 -0.00904196 -0.0090421 -0.00904223 -0.00904223 -0.00904222 -0.00904221 -0.0090422 -0.0090422 -0.00904219 -0.00904218 -0.00904217 -0.00904217 -0.00904217 -0.00904223 -0.00904232 -0.0090424 -0.00904249 -0.00904257 -0.00904263 -0.00904264 -0.00904265 -0.00904266 -0.00904267 -0.00904269 -0.00904264 -0.00904258 -0.00904252 -0.00904246 -0.0090424 -0.00904234 -0.00904229 -0.00904232 -0.00904237 -0.00904241 -0.00904241 -0.00904237 -0.00904234 -0.00904231 -0.00904228 -0.00904224 -0.0090422 -0.00904217 -0.00904213 -0.0090421 -0.00904206 -0.00904198 -0.00904186 -0.00904176 -0.00904168 -0.00904166 -0.00904158 -0.00904149 -0.0090414 -0.00904131 -0.00904122 -0.00904114 -0.00904105 -0.00904097 -0.00904089 -0.00904081 -0.00904073 -0.00904066 -0.00904058 -0.00904051 -0.00904044 -0.00904036 -0.00904021 -0.00904007 -0.00903993 -0.00903978 -0.00903965 -0.00903951 -0.00903937 -0.00903923 -0.0090391 -0.00903896 -0.00903883 -0.0090387 -0.00903856 -0.00903843 -0.0090383 -0.00903815 -0.00903795 -0.00903776 -0.00903764 -0.00903753 -0.00903742 -0.00903728 -0.0090371 -0.00903692 -0.00903675 -0.00903657 -0.00903638 -0.0090362 -0.00903601 -0.00903583 -0.00903565 -0.00903544 -0.00903518 -0.00903493 -0.00903468 -0.00903445 -0.00903429 -0.00903413 -0.00903397 -0.00903381 -0.00903366 -0.0090335 -0.00903331 -0.00903308 -0.00903285 -0.00903263 -0.0090324 -0.00903213 -0.00903184 -0.00903154 -0.00903125 -0.00903097 -0.00903068 -0.00903041 -0.00903021 -0.00902999 -0.00902978 -0.00902957 -0.00902937 -0.00902917 -0.00902896 -0.00902876 -0.00902856 -0.00902827 -0.00902793 -0.00902758 -0.00902723 -0.00902689 -0.00902655 -0.0090262 -0.00902587 -0.00902559 -0.00902534 -0.00902509 -0.00902485 -0.0090246 -0.00902435 -0.00902411 -0.00902386 -0.00902354 -0.00902322 -0.0090229 -0.00902258 -0.00902226 -0.00902192 -0.00902153 -0.00902114 -0.00902075 -0.00902036 -0.00902006 -0.00901976 -0.00901947 -0.00901917 -0.00901887 -0.00901855 -0.00901819 -0.00901783 -0.00901747 -0.00901711 -0.00901675 -0.00901639 -0.00901603 -0.00901568 -0.00901533 -0.00901497 -0.0090146 -0.00901419 -0.00901384 -0.00901349 -0.00901314 -0.00901276 -0.00901234 -0.00901193 -0.00901152 -0.00901111 -0.0090107 -0.0090103 -0.00900989 -0.00900948 -0.00900908 -0.00900868 -0.00900827 -0.00900787 -0.00900747 -0.00900712 -0.00900681 -0.00900643 -0.00900598 -0.00900553 -0.00900508 -0.00900463 -0.00900419 -0.00900373 -0.00900327 -0.00900281 -0.00900236 -0.0090019 -0.00900145 -0.009001 -0.00900055 -0.0090001 -0.00899964 -0.00899921 -0.00899878 -0.00899836 -0.00899794 -0.00899752 -0.00899708 -0.00899659 -0.00899609 -0.0089956 -0.00899511 -0.00899462 -0.00899413 -0.00899364 -0.00899315 -0.00899266 -0.00899217 -0.00899162 -0.00899107 -0.00899059 -0.00899011 -0.00898963 -0.00898916 -0.00898869 -0.00898821 -0.00898775 -0.00898728 -0.00898681 -0.00898627 -0.00898573 -0.00898519 -0.00898466 -0.0089841 -0.0089835 -0.00898291 -0.00898232 -0.00898176 -0.00898125 -0.00898074 -0.00898023 -0.00897972 -0.00897922 -0.00897871 -0.00897821 -0.0089777 -0.00897718 -0.00897666 -0.00897614 -0.00897559 -0.00897494 -0.0089743 -0.00897366 -0.00897302 -0.00897238 -0.0089718 -0.00897124 -0.00897068 -0.00897013 -0.00896958 -0.00896903 -0.00896848 -0.00896793 -0.00896738 -0.00896683 -0.00896623 -0.00896563 -0.00896502 -0.00896442 -0.00896382 -0.00896321 -0.00896255 -0.00896186 -0.00896125 -0.00896064 -0.00896004 -0.00895943 -0.00895882 -0.00895822 -0.00895762 -0.00895703 -0.00895637 -0.00895572 -0.00895507 -0.00895441 -0.00895376 -0.00895311 -0.00895247 -0.00895182 -0.00895117 -0.00895055 -0.00894999 -0.00894937 -0.00894873 -0.0089481 -0.00894747 -0.00894682 -0.00894614 -0.00894545 -0.00894474 -0.00894404 -0.00894334 -0.00894263 -0.00894193 -0.00894123 -0.00894054 -0.00893984 -0.00893915 -0.0089385 -0.00893789 -0.00893728 -0.00893667 -0.00893604 -0.00893532 -0.00893459 -0.00893386 -0.00893313 -0.0089324 -0.00893167 -0.00893095 -0.00893023 -0.0089295 -0.00892878 -0.00892805 -0.00892733 -0.00892659 -0.00892592 -0.00892525 -0.00892456 -0.00892384 -0.00892313 -0.00892242 -0.00892171 -0.008921 -0.00892024 -0.00891947 -0.00891869 -0.00891792 -0.00891715 -0.00891638 -0.00891562 -0.00891485 -0.00891408 -0.00891333 -0.00891259 -0.00891186 -0.00891112 -0.00891038 -0.00890965 -0.00890891 -0.00890818 -0.00890743 -0.00890668 -0.00890593 -0.00890517 -0.00890438 -0.00890356 -0.00890274 -0.00890192 -0.0089011 -0.00890024 -0.0088994 -0.00889861 -0.00889783 -0.00889705 -0.00889627 -0.00889549 -0.00889471 -0.00889393 -0.00889315 -0.00889238 -0.0088916 -0.00889082 -0.00889005 -0.00888928 -0.00888849 -0.00888763 -0.00888675 -0.00888584 -0.00888498 -0.00888415 -0.00888332 -0.00888249 -0.00888166 -0.00888083 -0.00888 -0.00887917 -0.00887835 -0.00887752 -0.0088767 -0.00887587 -0.00887503 -0.00887416 -0.0088733 -0.00887243 -0.00887157 -0.00887071 -0.00886989 -0.00886904 -0.00886818 -0.00886733 -0.00886648 -0.00886563 -0.00886479 -0.00886393 -0.00886306 -0.00886219 -0.00886129 -0.00886037 -0.00885946 -0.00885855 -0.00885763 -0.00885672 -0.00885582 -0.00885492 -0.00885409 -0.00885325 -0.00885242 -0.00885156 -0.00885066 -0.00884977 -0.00884888 -0.00884799 -0.00884706 -0.00884612 -0.00884519 -0.00884426 -0.00884333 -0.00884239 -0.00884146 -0.00884053 -0.00883959 -0.00883868 -0.0088378 -0.00883692 -0.00883604 -0.00883516 -0.00883429 -0.00883341 -0.00883246 -0.00883148 -0.0088305 -0.00882952 -0.00882854 -0.00882756 -0.00882658 -0.0088256 -0.00882463 -0.00882366 -0.00882269 -0.00882178 -0.00882088 -0.00881999 -0.00881909 -0.00881818 -0.00881724 -0.00881631 -0.00881537 -0.00881441 -0.00881345 -0.00881247 -0.00881145 -0.00881043 -0.00880941 -0.00880839 -0.00880738 -0.00880636 -0.00880535 -0.0088044 -0.00880346 -0.00880249 -0.0088015 -0.00880052 -0.00879954 -0.00879855 -0.00879757;
#X coords 0 1 881 -1 181 141 1;
#X restore 1335 679 graph;
#N canvas 809 376 450 244 metering_backend 0;
#X obj 85 19 inlet~;
#X obj 89 206 - 100;
#X obj 89 185 env~ 2048;
#X obj 198 109 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 198 164 tabwrite~ osciloscope;
#X obj 198 132 metro 100;
#X obj 198 80 loadbang;
#X obj 88 228 s meter;
#X text 149 54 < compensate summation;
#X obj 85 53 *~ 0.33;
#X connect 0 0 9 0;
#X connect 1 0 7 0;
#X connect 2 0 1 0;
#X connect 3 0 5 0;
#X connect 5 0 4 0;
#X connect 6 0 3 0;
#X connect 9 0 2 0;
#X connect 9 0 4 0;
#X restore 1458 626 pd metering_backend;
#X f 9;
#X msg 1191 770 \; pd dsp \$1;
#X obj 1156 771 tgl 25 1 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 1 1;
#X floatatom 1156 804 5 0 0 0 - - - 0;
#X obj 1266 292 vsl 16 136 0 100 0 1 empty empty empty 0 0 0 10 #fcfcfc #000000 #000000 4900 1;
#X floatatom 1266 442 5 0 0 0 - - - 0;
#X text 1251 442 %;
#X text 1024 288 Vibrato Depth [in % of a Semitone], f 10;
#X text 1166 286 Amount of Distortion [in %], f 11;
#X text 1458 285 Gain [in dB], f 7;
#X text 1291 286 Reverb Dry/Wet [in %], f 10;
#X obj 1265 479 s reverb_drywet;
#N canvas 198 99 811 223 Theremin 0;
#X obj 27 103 osc~;
#X obj 224 369 outlet~;
#X obj 224 334 *~;
#X text 64 99 < Theremins' core oscillator, f 22;
#X text 265 335 < Amplitude / Gain;
#N canvas 343 174 1068 536 distortion 0;
#X obj 59 409 outlet~;
#X obj 383 12 r distortion;
#X obj 102 244 expr 1 - $f1;
#X text 197 245 < flip 0 & 1 to 1 & 0, f 13;
#X obj 57 33 inlet~;
#X obj 58 281 *~, f 7;
#X obj 58 380 +~, f 7;
#X obj 382 102 line;
#X obj 382 68 pack f 125;
#X obj 337 324 *~, f 7;
#X text 117 280 < DRY;
#X text 399 311 < WET;
#X obj 383 40 / 100;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-waveshaping_function 100 float 1;
#A 0 0.97 0.97 0.99 0.99 0.81 0.77 0.71 0.315 0.32 0.325 0.33 0.34 0.35 0.35 0.35 0.36 0.37 0.39 0.4 0.46 0.54 0.56 0.59 0.605 0.62 0.635 0.65 0.665 0.68 0.7 0.71 0.72 0.72 0.72 0.72 0.72 0.72 0.71 0.71 0.7 0.785 0.78 0.776667 0.773333 0.77 0.77 0.76 0.76 0.76 0.76 0.76 0.76 0.76 0.76 0.76 0.47 0.42 0.43 0.43 0.43 0.43 0.43 0.43 0.43 0.43 0.43 0.42 0.46 0.46 0.46 0.45 0.45 0.45 0.45 0.57 0.54 0.52 0.5 0.48 0.46 0.44 0.43 0.41 0.38 0.35 0.45 0.55 0.66 0.61 0.31 0.2 0.07 0.190001 0.180001 0.170001 0.160001 0.160001 0.150001 0.140001 0.140001;
#X coords 0 0 100 1 100 100 1 0 0;
#X restore 488 105 graph;
#X obj 339 154 +~ 1;
#X obj 339 180 *~ 50;
#X obj 338 212 tabread~ \$0-waveshaping_function;
#X obj 648 148 r midi_note;
#X obj 649 199 mtof;
#X obj 648 259 line~;
#X obj 338 269 lop~ 350;
#X obj 338 243 *~;
#X obj 648 294 osc~;
#X obj 649 228 pack f 2500;
#X obj 740 263 line~;
#X obj 740 298 osc~;
#X obj 741 232 pack f 5000;
#X obj 740 203 * 1.02;
#X obj 336 297 hip~ 250;
#X text 576 332 unsymmetric non-linear amplitude modulation with two oscilators that 'sync' in different time intervals to frequency of the current note. Creates some dystopian alaising effects and makes the distortion muche more interesting. At least \, it adds some movement and non-linearity to the distortion \, as opposed to being time invariant and predictable. Well \, it's an experiment.;
#X connect 1 0 12 0;
#X connect 2 0 5 1;
#X connect 4 0 5 0;
#X connect 4 0 14 0;
#X connect 5 0 6 0;
#X connect 6 0 0 0;
#X connect 7 0 2 0;
#X connect 7 0 9 1;
#X connect 8 0 7 0;
#X connect 9 0 6 1;
#X connect 12 0 8 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 16 0 21 0;
#X connect 17 0 18 0;
#X connect 18 0 23 0;
#X connect 18 0 27 0;
#X connect 19 0 22 0;
#X connect 20 0 28 0;
#X connect 21 0 20 0;
#X connect 22 0 21 1;
#X connect 23 0 19 0;
#X connect 24 0 25 0;
#X connect 25 0 21 1;
#X connect 26 0 24 0;
#X connect 27 0 26 0;
#X connect 28 0 9 0;
#X restore 26 178 pd distortion;
#N canvas 191 56 1199 740 compute_freq_and_amp 0;
#X obj 115 87 mtof;
#X obj 33 25 inlet;
#X obj 200 116 mtof;
#X obj 200 89 + 1;
#X obj 147 175 -;
#X obj 147 144 pack f f;
#X obj 147 201 abs;
#X obj 408 313 * 1, f 6;
#X text 81 26 < Receive Midi Note;
#X text 527 202 < Receive Vibrato Depth [Measured in % of Semitones], f 29;
#X obj 411 239 / 100;
#X text 331 551 < Add Vibrato to current Frequency, f 18;
#X obj 113 505 line~;
#X obj 113 471 pack f 250;
#X text 199 464 < Legato between note changes, f 14;
#X obj 544 424 osc~ 5;
#X obj 368 132 line;
#X text 461 240 < Scale % to Lin, f 18;
#X obj 115 116 t f f;
#X obj 370 351 * 1, f 6;
#X msg 368 100 0 \, 1 1000;
#X text 599 423 < Vibrato Oscillator;
#X obj 113 546 +~, f 29;
#X obj 370 460 *~, f 6;
#X obj 114 679 outlet~;
#X text 448 95 < fade in vibrato depth & frequency after each note change over attack_time, f 19;
#X obj 544 489 +~ 1;
#X obj 544 517 *~ 0.05;
#X obj 545 545 +~ 0.95;
#X text 613 515 < subtile tremolo for more expressiveness, f 17;
#X text 186 167 < Calculate Semitone Offset for current pitch in hz, f 16;
#X obj 545 680 outlet~;
#X text 174 678 < Theremin Frequency out~, f 22;
#X text 607 679 < Theremin Amplitude out~, f 23;
#X obj 799 484 r gain;
#X obj 799 562 line~;
#X obj 799 539 pack f 250;
#X obj 545 630 *~;
#X text 889 533 < receive gain (smoothing to even out jumps), f 23;
#X obj 799 511 dbtorms;
#X obj 411 204 r vibrato_depth;
#X obj 180 430 r legato_time;
#X obj 593 289 r vibrato_freq;
#X obj 409 279 t b f, f 6;
#X obj 544 360 * 1, f 6;
#X obj 545 326 t b f;
#X text 599 363 < Max Freq 6.5hz - liked it the most \, feels fast but natural. (dynamically faded in after note change), f 46;
#X text 124 249 (would be easier to modulate before mtof~ I have to admit :D) I showed this implementation \, because I usually like to work within message rate as far as possible before switching to signal rate. While in this case \, it doesn't make a lot of sense \, I generally think it's good practise especially for bigger projects., f 33;
#X obj 33 59 t bang f f, f 24;
#X text 709 287 < Receive Vibrato Frequency [Measured in hz], f 29;
#X connect 0 0 18 0;
#X connect 1 0 48 0;
#X connect 2 0 5 1;
#X connect 3 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 4 0;
#X connect 6 0 7 0;
#X connect 7 0 19 1;
#X connect 10 0 43 0;
#X connect 12 0 22 0;
#X connect 13 0 12 0;
#X connect 15 0 23 1;
#X connect 15 0 26 0;
#X connect 16 0 19 0;
#X connect 16 0 45 0;
#X connect 18 0 13 0;
#X connect 18 1 5 0;
#X connect 19 0 23 0;
#X connect 20 0 16 0;
#X connect 22 0 24 0;
#X connect 23 0 22 1;
#X connect 26 0 27 0;
#X connect 27 0 28 0;
#X connect 28 0 37 0;
#X connect 34 0 39 0;
#X connect 35 0 37 1;
#X connect 36 0 35 0;
#X connect 37 0 31 0;
#X connect 39 0 36 0;
#X connect 40 0 10 0;
#X connect 41 0 13 1;
#X connect 42 0 44 0;
#X connect 43 0 7 0;
#X connect 43 0 19 0;
#X connect 43 1 7 1;
#X connect 44 0 15 0;
#X connect 45 0 44 0;
#X connect 45 1 44 1;
#X connect 48 0 20 0;
#X connect 48 1 0 0;
#X connect 48 2 3 0;
#X restore 27 49 pd compute_freq_and_amp;
#X f 31;
#N canvas 545 443 840 374 reverb 0;
#X obj 73 34 inlet~;
#X obj 73 231 freeverb~, f 15;
#X obj 193 166 expr 1 - $f1;
#X obj 193 134 line;
#X obj 193 100 pack f 125;
#X obj 194 42 / 100;
#X obj 194 14 r reverb_drywet;
#X obj 73 277 outlet~;
#X obj 175 276 outlet~;
#X msg 193 194 dry \$1;
#X msg 309 189 wet \$1;
#X obj 73 95 *~ 0.5;
#X obj 194 68 pow 2;
#X connect 0 0 11 0;
#X connect 1 0 7 0;
#X connect 1 1 8 0;
#X connect 2 0 9 0;
#X connect 3 0 2 0;
#X connect 3 0 10 0;
#X connect 4 0 3 0;
#X connect 5 0 12 0;
#X connect 6 0 5 0;
#X connect 9 0 1 0;
#X connect 10 0 1 0;
#X connect 11 0 1 0;
#X connect 11 0 1 1;
#X connect 12 0 4 0;
#X restore 25 209 pd reverb;
#X f 14;
#X obj 25 336 *~;
#X obj 25 370 outlet~;
#X text 8 372 L;
#X text 285 371 R;
#X obj 27 16 r midi_note;
#X connect 0 0 5 0;
#X connect 2 0 1 0;
#X connect 5 0 7 0;
#X connect 6 0 0 0;
#X connect 6 1 2 1;
#X connect 6 1 8 1;
#X connect 7 0 8 0;
#X connect 7 1 2 0;
#X connect 8 0 9 0;
#X connect 12 0 6 0;
#X restore 1157 596 pd Theremin;
#X f 15;
#X text 1374 245 ------- Out -------;
#N canvas 314 143 1043 639 Harmony 0;
#X obj 680 259 r harmony_amount;
#X obj 50 543 outlet~;
#X obj 49 220 - 16;
#X obj 152 219 - 9;
#X obj 265 220 - 7;
#X obj 160 544 outlet~;
#X obj 46 24 r midi_note;
#X text 704 208 < fade in harmony after note change;
#X msg 649 164 1 3500;
#X obj 649 130 t b b;
#X obj 384 221 - 12;
#X obj 48 458 *~;
#X obj 161 458 *~;
#X obj 59 492 freeverb~;
#X obj 160 488 freeverb~;
#X obj 50 273 voice_harmony;
#X obj 153 273 voice_harmony;
#X obj 266 275 voice_harmony;
#X text 241 487 < some stereo reverb whenever with reflected sides;
#X obj 203 514 *~ 0.5;
#X obj 63 514 *~ 0.5;
#X obj 680 293 dbtorms;
#X obj 648 364 *, f 4;
#X obj 648 207 line;
#X obj 648 396 pack f 25;
#X obj 648 428 line~;
#X obj 679 323 t b f;
#X text 741 288 < receive gain from User Interface, f 14;
#X obj 384 273 voice_harmony;
#X msg 708 164 0;
#X obj 47 82 t f b, f 86;
#X connect 0 0 21 0;
#X connect 2 0 15 0;
#X connect 3 0 16 0;
#X connect 4 0 17 0;
#X connect 6 0 30 0;
#X connect 8 0 23 0;
#X connect 9 0 8 0;
#X connect 9 1 29 0;
#X connect 10 0 28 0;
#X connect 11 0 13 0;
#X connect 11 0 1 0;
#X connect 12 0 14 0;
#X connect 12 0 5 0;
#X connect 13 0 20 0;
#X connect 14 1 19 0;
#X connect 15 0 11 0;
#X connect 15 1 12 0;
#X connect 16 0 11 0;
#X connect 16 1 12 0;
#X connect 17 0 11 0;
#X connect 17 1 12 0;
#X connect 19 0 1 0;
#X connect 20 0 5 0;
#X connect 21 0 26 0;
#X connect 22 0 24 0;
#X connect 23 0 22 0;
#X connect 24 0 25 0;
#X connect 25 0 12 1;
#X connect 25 0 11 1;
#X connect 26 0 22 0;
#X connect 26 1 22 1;
#X connect 28 0 11 0;
#X connect 28 1 12 0;
#X connect 29 0 23 0;
#X connect 30 0 2 0;
#X connect 30 0 3 0;
#X connect 30 0 4 0;
#X connect 30 0 10 0;
#X connect 30 1 9 0;
#X restore 1280 597 pd Harmony;
#X obj 567 624 vsl 16 136 0 100 0 1 empty empty empty 0 0 0 10 #fcfcfc #000000 #000000 9700 1;
#X text 561 591 ------- Harmomny -------;
#X text 592 618 Gain;
#X floatatom 566 774 5 0 0 0 - - - 0;
#X text 543 774 dB;
#X obj 565 811 s harmony_amount;
#X obj 747 295 vsl 16 136 0 1000 0 1 empty empty empty 0 0 0 10 #fcfcfc #000000 #000000 8800 1;
#X floatatom 747 445 5 0 0 0 - - - 0;
#X text 768 290 Legato Time [in ms], f 10;
#X obj 747 484 s legato_time;
#X text 724 445 ms;
#N canvas 461 221 982 487 Bass_Arp 0;
#X obj 53 486 outlet~;
#X obj 190 486 outlet~;
#X obj 53 424 *~;
#X obj 144 28 r beats;
#X obj 350 205 r bass_arp_amount;
#X obj 50 26 r midi_note;
#X obj 190 424 *~;
#X obj 465 62 t b b, f 8;
#X msg 465 153 1 1500;
#X text 580 274 < fade in arp after each note change;
#X obj 350 354 *~;
#X obj 50 85 - 36;
#X obj 190 165 - 24;
#X obj 51 212 voice_bass_arp;
#X obj 190 214 voice_bass_arp;
#X msg 520 153 0 25;
#X obj 350 237 dbtorms;
#X obj 349 282 pack f 50;
#X obj 349 312 line~;
#X obj 522 275 line~;
#X connect 2 0 0 0;
#X connect 3 0 13 1;
#X connect 3 0 14 1;
#X connect 4 0 16 0;
#X connect 5 0 7 0;
#X connect 5 0 11 0;
#X connect 5 0 12 0;
#X connect 6 0 1 0;
#X connect 7 0 8 0;
#X connect 7 1 15 0;
#X connect 8 0 19 0;
#X connect 10 0 6 1;
#X connect 10 0 2 1;
#X connect 11 0 13 0;
#X connect 12 0 14 0;
#X connect 13 0 2 0;
#X connect 14 0 6 0;
#X connect 15 0 19 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 18 0 10 0;
#X connect 19 0 10 1;
#X restore 1384 597 pd Bass_Arp;
#X obj 701 625 vsl 16 136 0 100 0 1 empty empty empty 0 0 0 10 #fcfcfc #000000 #000000 8300 1;
#X text 731 624 Gain;
#X floatatom 700 775 5 0 0 0 - - - 0;
#X text 677 775 dB;
#X obj 699 812 s bass_arp_amount;
#N canvas 826 254 450 362 6-8th_sequencer 0;
#X obj 104 21 inlet;
#X obj 104 194 metro;
#X obj 136 116 expr 60000 / $f1;
#X text 262 115 < to ms;
#X obj 104 232 int;
#X obj 140 234 + 1;
#X text 172 235 < increment each beat;
#X obj 104 267 % 6;
#X text 167 156 < to eigth;
#X obj 136 154 / 2;
#X text 129 267 < 6/8;
#X obj 136 55 inlet;
#X obj 104 317 s beats;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 2 0 9 0;
#X connect 4 0 5 0;
#X connect 4 0 7 0;
#X connect 5 0 4 1;
#X connect 7 0 12 0;
#X connect 9 0 1 1;
#X connect 11 0 2 0;
#X restore 880 810 pd 6-8th_sequencer;
#X f 19;
#X msg 1010 715 87;
#X text 1041 716 < set BPM;
#N canvas 244 283 702 513 quantizer 0;
#X obj 53 7 inlet;
#X obj 192 148 % 12;
#X obj 131 400 +;
#X msg 192 218 0;
#X text 227 219 < no offset if note in scale, f 9;
#X text 165 400 < offset if not in scale, f 8;
#X obj 315 242 sel 0 2 4 7 9;
#X obj 151 7 r quantizer_active;
#X obj 106 48 == 0;
#X obj 52 501 s midi_note;
#X obj 52 468 + 0;
#X text 142 501 < send updated midi note;
#X obj 192 182 sel 0 2 4 5 7 9;
#X obj 316 212 - 1;
#X msg 402 290 -2;
#X msg 314 288 -1;
#X text 353 212 < 'flatten' sharp notes;
#X obj 53 80 spigot 1;
#X obj 132 80 spigot 0;
#X obj 132 111 t f f, f 9;
#X connect 0 0 17 0;
#X connect 0 0 18 0;
#X connect 1 0 12 0;
#X connect 2 0 10 0;
#X connect 3 0 2 1;
#X connect 6 0 15 0;
#X connect 6 1 15 0;
#X connect 6 2 15 0;
#X connect 6 3 15 0;
#X connect 6 4 15 0;
#X connect 6 5 14 0;
#X connect 7 0 8 0;
#X connect 7 0 18 1;
#X connect 8 0 17 1;
#X connect 10 0 9 0;
#X connect 12 0 3 0;
#X connect 12 1 3 0;
#X connect 12 2 3 0;
#X connect 12 3 3 0;
#X connect 12 4 3 0;
#X connect 12 5 3 0;
#X connect 12 6 13 0;
#X connect 13 0 6 0;
#X connect 14 0 2 1;
#X connect 15 0 2 1;
#X connect 17 0 10 0;
#X connect 18 0 19 0;
#X connect 19 0 2 0;
#X connect 19 1 1 0;
#X restore 630 484 pd quantizer;
#X obj 630 509 tgl 19 1 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X text 655 508 < activate Quantizer;
#X obj 630 537 s quantizer_active;
#X text 535 246 --------------- Pitch -----------------;
#X text 878 246 ----------- Vibrato -----------;
#X text 1138 245 ----------- Effects -----------;
#X text 873 598 ------- Sequencer -------;
#X text 911 715 < activate;
#X text 852 619 (For Arpeggiator in Harmony);
#X text 920 205 CMC Assignment 1 - Robin Doerfler;
#X text 965 174 Apocalyptic Theremin;
#X text 958 859 --------------------------;
#X text 907 289 Vibrato Frequency [in hz], f 10;
#X text 863 444 hz;
#X obj 265 245 unpack f f;
#X floatatom 301 315 5 0 0 0 - - - 0;
#X obj 322 192 netreceive -u -b 8000;
#X floatatom 349 276 11 0 0 0 - - - 0;
#X connect 1 0 54 0;
#X connect 2 0 1 0;
#X connect 2 0 55 0;
#X connect 4 0 57 0;
#X connect 5 0 7 0;
#X connect 7 0 6 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 24 0 25 0;
#X connect 25 0 23 0;
#X connect 26 0 27 0;
#X connect 27 0 33 0;
#X connect 34 0 0 0;
#X connect 34 0 22 0;
#X connect 34 1 0 1;
#X connect 34 1 22 0;
#X connect 36 0 0 0;
#X connect 36 0 22 0;
#X connect 36 1 0 1;
#X connect 36 1 22 0;
#X connect 37 0 40 0;
#X connect 40 0 42 0;
#X connect 43 0 44 0;
#X connect 44 0 46 0;
#X connect 48 0 0 0;
#X connect 48 0 22 0;
#X connect 48 1 0 1;
#X connect 48 1 22 0;
#X connect 49 0 51 0;
#X connect 51 0 53 0;
#X connect 55 0 54 1;
#X connect 58 0 60 0;
#X connect 72 0 73 0;
#X connect 72 1 75 0;
#X connect 73 0 4 0;
#X connect 74 0 72 0;
